<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Modal Functionality Test</title>
    <link rel="stylesheet" href="static/site.css">
    <style>
        body {
            background-color: #1a1a1a;
            color: #fff;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 2rem;
        }

        .test-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .test-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background-color: #222;
            border-radius: 8px;
            border: 1px solid #333;
        }

        .test-section h2 {
            color: #3b82f6;
            margin-top: 0;
        }

        .test-events {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        /* Use the same timetable-item styles as the main dashboard */
        .timetable-item {
            background-color: #1a1a1a;
            border-radius: 4px;
            padding: 0.75rem;
            border-left: 4px solid #3b82f6;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .timetable-item:hover {
            background-color: #252525;
        }

        .timetable-item.exam {
            border-left-color: #f97316;
        }

        .timetable-item.urgent {
            border: 1px solid #ef4444;
            background-color: rgba(239, 68, 68, 0.1);
        }

        .timetable-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #fff;
        }

        .timetable-info {
            font-size: 0.9rem;
            color: #ccc;
        }

        .timetable-info div {
            margin-bottom: 0.25rem;
        }

        .test-result {
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 4px;
        }

        .test-pass {
            background-color: #064e3b;
            border: 1px solid #059669;
            color: #a7f3d0;
        }

        .test-fail {
            background-color: #7f1d1d;
            border: 1px solid #dc2626;
            color: #fca5a5;
        }

        .navigate-btn {
            background-color: #3b82f6;
            color: white;
            border: none;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            margin-top: 0.5rem;
        }

        .navigate-btn:hover {
            background-color: #2563eb;
        }
    </style>
</head>

<body>
    <div class="test-container">
        <h1>üß™ Event Modal Functionality Test</h1>

        <div class="test-section">
            <h2>üéØ Test Objective</h2>
            <p>Verify that clicking on any event opens a detailed modal popup with comprehensive event information.</p>
            <ul>
                <li>‚úÖ Event click handlers are properly attached</li>
                <li>‚úÖ Modal opens with correct event data</li>
                <li>‚úÖ Modal displays all event details (time, location, course, lecturer)</li>
                <li>‚úÖ Modal can be closed via close button, ESC key, or clicking outside</li>
                <li>‚úÖ Navigation button works when available</li>
                <li>‚úÖ Different event types (class/exam) and urgency levels display correctly</li>
            </ul>
        </div>

        <div class="test-section">
            <h2>üìÖ Test Events - Click Any Event Below</h2>
            <p>The following events simulate the exact same functionality as the main dashboard:</p>

            <div class="test-events" id="test-events-container">
                <!-- Events will be populated by JavaScript -->
            </div>
        </div>

        <div class="test-section">
            <h2>üîß Automated Tests</h2>
            <button onclick="runAutomatedTests()"
                style="background-color: #059669; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 4px; cursor: pointer;">Run
                Tests</button>
            <div id="test-results"></div>
        </div>
    </div>

    <!-- Include the main app.js for modal functionality -->
    <script src="static/js/app.js"></script>
    <script>
        // Test data - comprehensive set of different event types
        const testEvents = [
            {
                "id": 1,
                "title": "ENGGEN205 Engineering Design",
                "event_type": "class",
                "course": { "code": "ENGGEN205", "name": "Engineering Design Fundamentals" },
                "room": { "building": "ENG", "number": "201" },
                "start_time": new Date().toISOString(),
                "end_time": new Date(Date.now() + 3600000).toISOString(),
                "lecturer": "Prof. Sarah Johnson",
                "description": "Introduction to engineering design principles and methodologies.",
                "is_urgent": false
            },
            {
                "id": 2,
                "title": "COMPSCI220 Final Exam",
                "event_type": "exam",
                "course": { "code": "COMPSCI220", "name": "Data Structures and Algorithms" },
                "room": { "building": "SCI", "number": "105" },
                "start_time": new Date(Date.now() + 86400000).toISOString(),
                "end_time": new Date(Date.now() + 86400000 + 10800000).toISOString(),
                "lecturer": "Dr. Michael Chen",
                "description": "Comprehensive final examination covering all course material.",
                "is_urgent": false
            },
            {
                "id": 3,
                "title": "URGENT: Venue Change - MATHS150",
                "event_type": "class",
                "course": { "code": "MATHS150", "name": "Calculus and Linear Algebra" },
                "room": { "building": "LIB", "number": "301" },
                "start_time": new Date(Date.now() + 3600000).toISOString(),
                "end_time": new Date(Date.now() + 7200000).toISOString(),
                "lecturer": "Dr. Emma Wilson",
                "description": "IMPORTANT: Tutorial moved from MATH 201 to LIBRARY 301 due to maintenance.",
                "is_urgent": true
            },
            {
                "id": 4,
                "title": "PHYSICS201 Lab Session",
                "event_type": "class",
                "course": { "code": "PHYSICS201", "name": "Quantum Mechanics Laboratory" },
                "room": { "building": "ENG", "number": "301" },
                "start_time": new Date(Date.now() + 172800000).toISOString(),
                "end_time": new Date(Date.now() + 172800000 + 10800000).toISOString(),
                "lecturer": "Prof. David Kim",
                "description": "Hands-on laboratory session exploring quantum mechanical phenomena.",
                "is_urgent": false
            },
            {
                "id": 5,
                "title": "STATS100 Mid-term Exam",
                "event_type": "exam",
                "course": { "code": "STATS100", "name": "Statistics and Probability" },
                "room": { "building": "ARTS", "number": "102" },
                "start_time": new Date(Date.now() + 259200000).toISOString(),
                "end_time": new Date(Date.now() + 259200000 + 7200000).toISOString(),
                "lecturer": "Prof. Lisa Anderson",
                "description": "Mid-term examination covering probability distributions and hypothesis testing.",
                "is_urgent": true
            },
            {
                "id": 6,
                "title": "BUS202 Presentation",
                "event_type": "class",
                "course": { "code": "BUS202", "name": "Business Strategy" },
                "room": { "building": "UNKNOWN", "number": "999" },
                "start_time": new Date(Date.now() + 345600000).toISOString(),
                "end_time": new Date(Date.now() + 345600000 + 5400000).toISOString(),
                "lecturer": "Dr. Robert Taylor",
                "description": "Student presentations on strategic business cases.",
                "is_urgent": false
            }
        ];

        // Function to create timetable items (same as dashboard)
        function createTimetableItem(event) {
            const item = document.createElement('div');
            item.className = `timetable-item ${event.event_type === 'exam' ? 'exam' : ''}`;
            if (event.is_urgent) {
                item.classList.add('urgent');
            }

            const startTime = new Date(event.start_time);
            const endTime = new Date(event.end_time);

            // Store complete event data for modal access
            item.dataset.eventData = JSON.stringify(event);

            // Store building ID for navigation
            let buildingId = '';
            if (event.room && event.room.building) {
                switch (event.room.building) {
                    case 'ENG': buildingId = 'engineering'; break;
                    case 'SCI': buildingId = 'science'; break;
                    case 'LIB': buildingId = 'library'; break;
                    case 'BUS': buildingId = 'bizschool'; break;
                    case 'ARTS': buildingId = 'arts'; break;
                    case 'HSB': buildingId = 'health'; break;
                    default: buildingId = 'main';
                }
                item.dataset.buildingId = buildingId;
            }

            item.innerHTML = `
                <div class="timetable-title">${event.title}</div>
                <div class="timetable-info">
                    <div>${event.course ? event.course.code : 'N/A'} - ${event.room ? `${event.room.building} ${event.room.number}` : 'TBA'}</div>
                    <div>${startTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })} - ${endTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</div>
                </div>
                ${buildingId ? '<button class="navigate-btn">Navigate</button>' : ''}
            `;

            // Add click handler for navigation button (if available)
            if (buildingId) {
                const navigateBtn = item.querySelector('.navigate-btn');
                navigateBtn.addEventListener('click', function (e) {
                    e.stopPropagation(); // Prevent parent item click
                    alert(`Navigation to ${event.room.building} ${event.room.number} would be triggered here.`);
                });
            }

            // Always make entire item clickable to view event details
            item.addEventListener('click', function () {
                console.log('Event clicked:', event.title);
                showEventDetails(event);
            });

            return item;
        }

        // Populate test events
        function populateTestEvents() {
            const container = document.getElementById('test-events-container');
            container.innerHTML = '';

            testEvents.forEach(event => {
                const item = createTimetableItem(event);
                container.appendChild(item);
            });
        }

        // Automated tests
        function runAutomatedTests() {
            const resultsDiv = document.getElementById('test-results');
            resultsDiv.innerHTML = '<p>Running tests...</p>';

            const results = [];

            // Test 1: Check if modal functions exist
            results.push({
                name: 'Modal functions exist',
                passed: typeof showEventDetails === 'function' &&
                    typeof openEventDetailsModal === 'function' &&
                    typeof closeEventDetailsModal === 'function',
                details: 'Checking if core modal functions are available'
            });

            // Test 2: Check if timetable items have click handlers
            const timetableItems = document.querySelectorAll('.timetable-item');
            let itemsWithHandlers = 0;
            timetableItems.forEach(item => {
                if (item.onclick !== null || item.hasEventListeners) {
                    itemsWithHandlers++;
                }
            });

            results.push({
                name: 'Timetable items have click handlers',
                passed: timetableItems.length > 0,
                details: `Found ${timetableItems.length} timetable items`
            });

            // Test 3: Test modal opening with sample event
            let modalTestPassed = false;
            try {
                openEventDetailsModal(testEvents[0]);
                modalTestPassed = document.getElementById('event-details-modal') !== null;
                // Close it immediately
                setTimeout(() => closeEventDetailsModal(), 100);
            } catch (error) {
                console.error('Modal test error:', error);
            }

            results.push({
                name: 'Modal opens successfully',
                passed: modalTestPassed,
                details: modalTestPassed ? 'Modal created and opened' : 'Failed to open modal'
            });

            // Test 4: Check event data storage
            const firstItem = timetableItems[0];
            const hasEventData = firstItem && firstItem.dataset.eventData;
            results.push({
                name: 'Event data properly stored',
                passed: !!hasEventData,
                details: hasEventData ? 'Event data found in dataset' : 'No event data in dataset'
            });

            // Test 5: Check different event types are styled correctly
            const examItems = document.querySelectorAll('.timetable-item.exam');
            const urgentItems = document.querySelectorAll('.timetable-item.urgent');
            results.push({
                name: 'Event type styling applied',
                passed: examItems.length > 0 && urgentItems.length > 0,
                details: `Found ${examItems.length} exam items and ${urgentItems.length} urgent items`
            });

            // Display results
            displayTestResults(results);
        }

        function displayTestResults(results) {
            const resultsDiv = document.getElementById('test-results');
            let html = '';

            results.forEach(result => {
                const statusClass = result.passed ? 'test-pass' : 'test-fail';
                const statusText = result.passed ? '‚úÖ PASS' : '‚ùå FAIL';
                html += `
                    <div class="test-result ${statusClass}">
                        <strong>${statusText}</strong> ${result.name}
                        <br><small>${result.details}</small>
                    </div>
                `;
            });

            const passedTests = results.filter(r => r.passed).length;
            const totalTests = results.length;
            const summaryClass = passedTests === totalTests ? 'test-pass' : 'test-fail';

            html += `
                <div class="test-result ${summaryClass}">
                    <strong>Overall Result: ${passedTests}/${totalTests} tests passed</strong>
                </div>
            `;

            resultsDiv.innerHTML = html;
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function () {
            console.log('Test page loaded');
            populateTestEvents();

            // Add instructions
            console.log('Click on any event above to test the modal functionality');
            console.log('Available test events:', testEvents.length);
        });
    </script>
</body>

</html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Modal Functionality Test</title>
    <link rel="stylesheet" href="static/site.css">
    <style>
        body {
            background-color: #1a1a1a;
            color: #fff;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 2rem;
        }

        .test-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .test-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background-color: #222;
            border-radius: 8px;
            border: 1px solid #333;
        }

        .test-section h2 {
            color: #3b82f6;
            margin-top: 0;
        }

        .test-events {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        /* Use the same timetable-item styles as the main dashboard */
        .timetable-item {
            background-color: #1a1a1a;
            border-radius: 4px;
            padding: 0.75rem;
            border-left: 4px solid #3b82f6;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .timetable-item:hover {
            background-color: #252525;
        }

        .timetable-item.exam {
            border-left-color: #f97316;
        }

        .timetable-item.urgent {
            border: 1px solid #ef4444;
            background-color: rgba(239, 68, 68, 0.1);
        }

        .timetable-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #fff;
        }

        .timetable-info {
            font-size: 0.9rem;
            color: #ccc;
        }

        .timetable-info div {
            margin-bottom: 0.25rem;
        }

        .test-result {
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 4px;
        }

        .test-pass {
            background-color: #064e3b;
            border: 1px solid #059669;
            color: #a7f3d0;
        }

        .test-fail {
            background-color: #7f1d1d;
            border: 1px solid #dc2626;
            color: #fca5a5;
        }

        .navigate-btn {
            background-color: #3b82f6;
            color: white;
            border: none;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            margin-top: 0.5rem;
        }

        .navigate-btn:hover {
            background-color: #2563eb;
        }
    </style>
</head>

<body>
    <div class="test-container">
        <h1>üß™ Event Modal Functionality Test</h1>

        <div class="test-section">
            <h2>üéØ Test Objective</h2>
            <p>Verify that clicking on any event opens a detailed modal popup with comprehensive event information.</p>
            <ul>
                <li>‚úÖ Event click handlers are properly attached</li>
                <li>‚úÖ Modal opens with correct event data</li>
                <li>‚úÖ Modal displays all event details (time, location, course, lecturer)</li>
                <li>‚úÖ Modal can be closed via close button, ESC key, or clicking outside</li>
                <li>‚úÖ Navigation button works when available</li>
                <li>‚úÖ Different event types (class/exam) and urgency levels display correctly</li>
            </ul>
        </div>

        <div class="test-section">
            <h2>üìÖ Test Events - Click Any Event Below</h2>
            <p>The following events simulate the exact same functionality as the main dashboard:</p>

            <div class="test-events" id="test-events-container">
                <!-- Events will be populated by JavaScript -->
            </div>
        </div>

        <div class="test-section">
            <h2>üîß Automated Tests</h2>
            <button onclick="runAutomatedTests()"
                style="background-color: #059669; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 4px; cursor: pointer;">Run
                Tests</button>
            <div id="test-results"></div>
        </div>
    </div>

    <!-- Include the main app.js for modal functionality -->
    <script src="static/js/app.js"></script>
    <script>
        // Test data - comprehensive set of different event types
        const testEvents = [
            {
                "id": 1,
                "title": "ENGGEN205 Engineering Design",
                "event_type": "class",
                "course": { "code": "ENGGEN205", "name": "Engineering Design Fundamentals" },
                "room": { "building": "ENG", "number": "201" },
                "start_time": new Date().toISOString(),
                "end_time": new Date(Date.now() + 3600000).toISOString(),
                "lecturer": "Prof. Sarah Johnson",
                "description": "Introduction to engineering design principles and methodologies.",
                "is_urgent": false
            },
            {
                "id": 2,
                "title": "COMPSCI220 Final Exam",
                "event_type": "exam",
                "course": { "code": "COMPSCI220", "name": "Data Structures and Algorithms" },
                "room": { "building": "SCI", "number": "105" },
                "start_time": new Date(Date.now() + 86400000).toISOString(),
                "end_time": new Date(Date.now() + 86400000 + 10800000).toISOString(),
                "lecturer": "Dr. Michael Chen",
                "description": "Comprehensive final examination covering all course material.",
                "is_urgent": false
            },
            {
                "id": 3,
                "title": "URGENT: Venue Change - MATHS150",
                "event_type": "class",
                "course": { "code": "MATHS150", "name": "Calculus and Linear Algebra" },
                "room": { "building": "LIB", "number": "301" },
                "start_time": new Date(Date.now() + 3600000).toISOString(),
                "end_time": new Date(Date.now() + 7200000).toISOString(),
                "lecturer": "Dr. Emma Wilson",
                "description": "IMPORTANT: Tutorial moved from MATH 201 to LIBRARY 301 due to maintenance.",
                "is_urgent": true
            },
            {
                "id": 4,
                "title": "PHYSICS201 Lab Session",
                "event_type": "class",
                "course": { "code": "PHYSICS201", "name": "Quantum Mechanics Laboratory" },
                "room": { "building": "ENG", "number": "301" },
                "start_time": new Date(Date.now() + 172800000).toISOString(),
                "end_time": new Date(Date.now() + 172800000 + 10800000).toISOString(),
                "lecturer": "Prof. David Kim",
                "description": "Hands-on laboratory session exploring quantum mechanical phenomena.",
                "is_urgent": false
            },
            {
                "id": 5,
                "title": "STATS100 Mid-term Exam",
                "event_type": "exam",
                "course": { "code": "STATS100", "name": "Statistics and Probability" },
                "room": { "building": "ARTS", "number": "102" },
                "start_time": new Date(Date.now() + 259200000).toISOString(),
                "end_time": new Date(Date.now() + 259200000 + 7200000).toISOString(),
                "lecturer": "Prof. Lisa Anderson",
                "description": "Mid-term examination covering probability distributions and hypothesis testing.",
                "is_urgent": true
            },
            {
                "id": 6,
                "title": "BUS202 Presentation",
                "event_type": "class",
                "course": { "code": "BUS202", "name": "Business Strategy" },
                "room": { "building": "UNKNOWN", "number": "999" },
                "start_time": new Date(Date.now() + 345600000).toISOString(),
                "end_time": new Date(Date.now() + 345600000 + 5400000).toISOString(),
                "lecturer": "Dr. Robert Taylor",
                "description": "Student presentations on strategic business cases.",
                "is_urgent": false
            }
        ];

        // Function to create timetable items (same as dashboard)
        function createTimetableItem(event) {
            const item = document.createElement('div');
            item.className = `timetable-item ${event.event_type === 'exam' ? 'exam' : ''}`;
            if (event.is_urgent) {
                item.classList.add('urgent');
            }

            const startTime = new Date(event.start_time);
            const endTime = new Date(event.end_time);

            // Store complete event data for modal access
            item.dataset.eventData = JSON.stringify(event);

            // Store building ID for navigation
            let buildingId = '';
            if (event.room && event.room.building) {
                switch (event.room.building) {
                    case 'ENG': buildingId = 'engineering'; break;
                    case 'SCI': buildingId = 'science'; break;
                    case 'LIB': buildingId = 'library'; break;
                    case 'BUS': buildingId = 'bizschool'; break;
                    case 'ARTS': buildingId = 'arts'; break;
                    case 'HSB': buildingId = 'health'; break;
                    default: buildingId = 'main';
                }
                item.dataset.buildingId = buildingId;
            }

            item.innerHTML = `
                <div class="timetable-title">${event.title}</div>
                <div class="timetable-info">
                    <div>${event.course ? event.course.code : 'N/A'} - ${event.room ? `${event.room.building} ${event.room.number}` : 'TBA'}</div>
                    <div>${startTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })} - ${endTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</div>
                </div>
                ${buildingId ? '<button class="navigate-btn">Navigate</button>' : ''}
            `;

            // Add click handler for navigation button (if available)
            if (buildingId) {
                const navigateBtn = item.querySelector('.navigate-btn');
                navigateBtn.addEventListener('click', function (e) {
                    e.stopPropagation(); // Prevent parent item click
                    alert(`Navigation to ${event.room.building} ${event.room.number} would be triggered here.`);
                });
            }

            // Always make entire item clickable to view event details
            item.addEventListener('click', function () {
                console.log('Event clicked:', event.title);
                showEventDetails(event);
            });

            return item;
        }

        // Populate test events
        function populateTestEvents() {
            const container = document.getElementById('test-events-container');
            container.innerHTML = '';

            testEvents.forEach(event => {
                const item = createTimetableItem(event);
                container.appendChild(item);
            });
        }

        // Automated tests
        function runAutomatedTests() {
            const resultsDiv = document.getElementById('test-results');
            resultsDiv.innerHTML = '<p>Running tests...</p>';

            const results = [];

            // Test 1: Check if modal functions exist
            results.push({
                name: 'Modal functions exist',
                passed: typeof showEventDetails === 'function' &&
                    typeof openEventDetailsModal === 'function' &&
                    typeof closeEventDetailsModal === 'function',
                details: 'Checking if core modal functions are available'
            });

            // Test 2: Check if timetable items have click handlers
            const timetableItems = document.querySelectorAll('.timetable-item');
            let itemsWithHandlers = 0;
            timetableItems.forEach(item => {
                if (item.onclick !== null || item.hasEventListeners) {
                    itemsWithHandlers++;
                }
            });

            results.push({
                name: 'Timetable items have click handlers',
                passed: timetableItems.length > 0,
                details: `Found ${timetableItems.length} timetable items`
            });

            // Test 3: Test modal opening with sample event
            let modalTestPassed = false;
            try {
                openEventDetailsModal(testEvents[0]);
                modalTestPassed = document.getElementById('event-details-modal') !== null;
                // Close it immediately
                setTimeout(() => closeEventDetailsModal(), 100);
            } catch (error) {
                console.error('Modal test error:', error);
            }

            results.push({
                name: 'Modal opens successfully',
                passed: modalTestPassed,
                details: modalTestPassed ? 'Modal created and opened' : 'Failed to open modal'
            });

            // Test 4: Check event data storage
            const firstItem = timetableItems[0];
            const hasEventData = firstItem && firstItem.dataset.eventData;
            results.push({
                name: 'Event data properly stored',
                passed: !!hasEventData,
                details: hasEventData ? 'Event data found in dataset' : 'No event data in dataset'
            });

            // Test 5: Check different event types are styled correctly
            const examItems = document.querySelectorAll('.timetable-item.exam');
            const urgentItems = document.querySelectorAll('.timetable-item.urgent');
            results.push({
                name: 'Event type styling applied',
                passed: examItems.length > 0 && urgentItems.length > 0,
                details: `Found ${examItems.length} exam items and ${urgentItems.length} urgent items`
            });

            // Display results
            displayTestResults(results);
        }

        function displayTestResults(results) {
            const resultsDiv = document.getElementById('test-results');
            let html = '';

            results.forEach(result => {
                const statusClass = result.passed ? 'test-pass' : 'test-fail';
                const statusText = result.passed ? '‚úÖ PASS' : '‚ùå FAIL';
                html += `
                    <div class="test-result ${statusClass}">
                        <strong>${statusText}</strong> ${result.name}
                        <br><small>${result.details}</small>
                    </div>
                `;
            });

            const passedTests = results.filter(r => r.passed).length;
            const totalTests = results.length;
            const summaryClass = passedTests === totalTests ? 'test-pass' : 'test-fail';

            html += `
                <div class="test-result ${summaryClass}">
                    <strong>Overall Result: ${passedTests}/${totalTests} tests passed</strong>
                </div>
            `;

            resultsDiv.innerHTML = html;
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function () {
            console.log('Test page loaded');
            populateTestEvents();

            // Add instructions
            console.log('Click on any event above to test the modal functionality');
            console.log('Available test events:', testEvents.length);
        });
    </script>
</body>

</html>